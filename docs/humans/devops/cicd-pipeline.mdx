---
sidebar_position: 2
---

# ğŸš€ CI/CD íŒŒì´í”„ë¼ì¸

ì´ ë¬¸ì„œ ì‚¬ì´íŠ¸ê°€ **GitHub Actions + GitHub Pages**ë¡œ ì–´ë–»ê²Œ ìë™ ë¹Œë“œ/ë°°í¬ë˜ëŠ”ì§€ ì„¤ëª…í•©ë‹ˆë‹¤.

## ì „ì²´ ì•„í‚¤í…ì²˜

```mermaid
flowchart TB
    subgraph Developer["ğŸ‘¨â€ğŸ’» ê°œë°œì"]
        A[ë¬¸ì„œ ìˆ˜ì •] --> B[ë¸Œëœì¹˜ ìƒì„±]
        B --> C[ì»¤ë°‹ & í‘¸ì‹œ]
        C --> D[PR ìƒì„±]
    end

    subgraph GitHub["ğŸ™ GitHub"]
        D --> E{CI íŒŒì´í”„ë¼ì¸}
        E --> F[build job]
        F --> G{ë¹Œë“œ ì„±ê³µ?}
        G -->|ì‹¤íŒ¨| H[ìˆ˜ì • í•„ìš”]
        G -->|ì„±ê³µ| I[ë¦¬ë·° & ë¨¸ì§€]
        I --> J[main ë¨¸ì§€]
        J --> K{deploy job}
        K --> L[GitHub Pages ë°°í¬]
    end

    subgraph Users["ğŸ§‘â€ğŸ’» ì‚¬ìš©ì"]
        L --> M[https://org-tinysolver.github.io/ground-truth/]
    end
```

---

## íŒŒì´í”„ë¼ì¸ ìƒì„¸

### 1ï¸âƒ£ PR ìƒì„±/ì—…ë°ì´íŠ¸ ì‹œ (ê²€ì¦)

> í˜„ì¬ ì›Œí¬í”Œë¡œìš°ëŠ” **main ë¨¸ì§€ ê¸°ì¤€ìœ¼ë¡œë§Œ ë¹Œë“œ/ë°°í¬**í•˜ì§€ë§Œ, í–¥í›„ PR ê¸°ë°˜ ë¹Œë“œê°€ ì¶”ê°€ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.  
> ì—¬ê¸°ì„œëŠ” ê°œë…ì ìœ¼ë¡œ PR â†’ ë¹Œë“œ â†’ ë¦¬ë·° â†’ ë¨¸ì§€ í”Œë¡œìš°ë¥¼ ì„¤ëª…í•©ë‹ˆë‹¤.

```mermaid
sequenceDiagram
    participant Dev as ê°œë°œì
    participant GH as GitHub
    participant GA as GitHub Actions

    Dev->>GH: PR ìƒì„±/ì—…ë°ì´íŠ¸
    GH-->>GA: (ì˜µì…˜) CI íŒŒì´í”„ë¼ì¸ íŠ¸ë¦¬ê±°
    GA-->>Dev: ë¹Œë“œ ê²°ê³¼ (ì„±ê³µ/ì‹¤íŒ¨)
```

**ì—­í• :**
- PRì€ ì½”ë“œ ë¦¬ë·°ì™€ ë³€ê²½ ë‚´ì—­ ë…¼ì˜ë¥¼ ìœ„í•œ ë‹¨ìœ„
- CIê°€ ë¶™ìœ¼ë©´ PRì—ì„œ ë¹Œë“œ ì—ëŸ¬ë¥¼ ì¡°ê¸°ì— ë°œê²¬ ê°€ëŠ¥

### 2ï¸âƒ£ main ë¸Œëœì¹˜ ë¨¸ì§€ ì‹œ (ì‹¤ì œ ë°°í¬)

```mermaid
sequenceDiagram
    participant GH as GitHub
    participant GA as GitHub Actions
    participant Pages as GitHub Pages
    participant User as ì‚¬ìš©ì

    GH->>GA: main ë¸Œëœì¹˜ í‘¸ì‹œ ê°ì§€
    GA->>GA: npm ci & npm run build
    GA->>Pages: ì •ì  íŒŒì¼ ì—…ë¡œë“œ
    Pages-->>User: https://org-tinysolver.github.io/ground-truth/ ì„œë¹™
```

**ì‹¤í–‰ ì¡°ê±´:**
- `main` ë¸Œëœì¹˜ì— í‘¸ì‹œ (ë³´í†µ PR ë¨¸ì§€)
- ë‹¤ìŒ íŒŒì¼ ì¤‘ í•˜ë‚˜ ì´ìƒ ë³€ê²½:
  - `docs/**`, `src/**`, `static/**`
  - `docusaurus.config.js`, `sidebars.js`, `package.json`

**ì‹¤í–‰ ë‚´ìš©:**
1. **build job**: Docusaurus ì •ì  ì‚¬ì´íŠ¸ ë¹Œë“œ
2. **deploy job**: GitHub Pagesë¡œ ì •ì  íŒŒì¼ ë°°í¬

---

## íŒŒì¼ êµ¬ì¡°

```
ground-truth/
â”œâ”€â”€ .github/workflows/deploy.yml  # GitHub Actions ì›Œí¬í”Œë¡œìš°
â”œâ”€â”€ docker-compose.yml            # ë¡œì»¬ ê°œë°œìš© (ì„ íƒ)
â”œâ”€â”€ Dockerfile                    # ë¡œì»¬/í…ŒìŠ¤íŠ¸ìš© ì»¨í…Œì´ë„ˆ ë¹Œë“œ
â”œâ”€â”€ docusaurus.config.js          # Docusaurus ì„¤ì •
â””â”€â”€ docs/, src/, static/          # ë¬¸ì„œ ë° ì»´í¬ë„ŒíŠ¸
```

### docker-compose.yml (ë¡œì»¬ ê°œë°œ)

```yaml
services:
  docusaurus:
    build:
      context: .
      dockerfile: Dockerfile
    ports:
      - "3077:3000"
    volumes:
      - ./docs:/app/docs  # í•« ë¦¬ë¡œë“œ
```

### Dockerfile

í˜„ì¬ëŠ” ì£¼ë¡œ **ë¡œì»¬ì—ì„œ ì»¨í…Œì´ë„ˆë¡œ ë„ì›Œë³´ê¸° ìœ„í•œ ìš©ë„**ë¡œ ì‚¬ìš©í•©ë‹ˆë‹¤.

```dockerfile
FROM node:20-alpine
WORKDIR /app
COPY package*.json ./
RUN npm ci
COPY . .
RUN npm run build

CMD ["npm", "run", "serve"]
```

---

## GitHub Actions ì„¤ì •

GitHub Actions ì›Œí¬í”Œë¡œìš°ëŠ” `.github/workflows/deploy.yml`ì— ì •ì˜ë˜ì–´ ìˆìŠµë‹ˆë‹¤.

```yaml
name: Deploy to GitHub Pages

on:
  push:
    branches:
      - main
    paths:
      - 'docs/**'
      - 'src/**'
      - 'static/**'
      - 'package.json'
      - 'docusaurus.config.js'
      - 'sidebars.js'
  workflow_dispatch:
```

### ì£¼ìš” Job

- `build` job
  - Node 18 ì„¤ì •
  - `npm ci`
  - `npm run build`
  - Pages artifact ì—…ë¡œë“œ
- `deploy` job
  - GitHub Pagesì— artifact ë°°í¬
  - ë°°í¬ ì™„ë£Œ í›„ Slack Webhookìœ¼ë¡œ ì•Œë¦¼

---

## íŠ¸ëŸ¬ë¸”ìŠˆíŒ…

import { Accordion } from '@site/src/components/InteractiveDemo';

<Accordion title="ë¹Œë“œê°€ ì‹¤íŒ¨í•´ìš”" defaultOpen={true}>
  **ì›ì¸**: ë¬¸ë²• ì˜¤ë¥˜, ì˜ì¡´ì„± ë¬¸ì œ
  
  **í•´ê²°**:
  1. ë¡œì»¬ì—ì„œ `npm run build` ì‹¤í–‰
  2. GitHub Actions â†’ í•´ë‹¹ ì›Œí¬í”Œë¡œìš° ì‹¤í–‰ ë¡œê·¸ í™•ì¸
  3. ì—ëŸ¬ ë©”ì‹œì§€ ê¸°ì¤€ìœ¼ë¡œ MDX ë¬¸ë²•/ì˜ì¡´ì„± ìˆ˜ì •
</Accordion>

<Accordion title="ë°°í¬ëŠ” ì„±ê³µí–ˆëŠ”ë° í™”ë©´ì´ ê¹¨ì ¸ìš”">
  **ì›ì¸**: `baseUrl`, ë§í¬ ê²½ë¡œ, ì •ì  ë¦¬ì†ŒìŠ¤ ê²½ë¡œ ë¬¸ì œ
  
  **í•´ê²°**:
  1. `docusaurus.config.js`ì˜ `url` / `baseUrl` í™•ì¸  
  2. ì ˆëŒ€ ê²½ë¡œ(`/...`) ëŒ€ì‹  ìƒëŒ€ ê²½ë¡œë¥¼ ì‚¬ìš©í•˜ëŠ”ì§€ í™•ì¸  
  3. GitHub Pages ìºì‹œ ë¬¸ì œ ì‹œ, ë¸Œë¼ìš°ì € ìºì‹œ ì‚­ì œ í›„ ì¬ì‹œë„
</Accordion>

<Accordion title="Slack ì•Œë¦¼ì´ ì•ˆ ì™€ìš”">
  **ì›ì¸**: `SLACK_WEBHOOK_URL` Secret ë¯¸ì„¤ì • ë˜ëŠ” ê¶Œí•œ ë¬¸ì œ
  
  **í•´ê²°**:
  1. GitHub â†’ Settings â†’ Secrets and variables â†’ Actions  
  2. `SLACK_WEBHOOK_URL`ê°€ ì˜¬ë°”ë¥´ê²Œ ì„¤ì •ëëŠ”ì§€ í™•ì¸  
  3. Webhook URLì´ ë§Œë£Œë˜ì—ˆëŠ”ì§€ í™•ì¸
</Accordion>

---

## ìš”ì•½

```mermaid
flowchart LR
    A[ë¬¸ì„œ ìˆ˜ì •] --> B[PR ìƒì„±]
    B --> C[ë¦¬ë·° & ë¨¸ì§€]
    C --> D[main ë¸Œëœì¹˜ ì—…ë°ì´íŠ¸]
    D --> E[GitHub Actions ë¹Œë“œ]
    E --> F[GitHub Pages ë°°í¬]
    F --> G[ì‚¬ìš©ìì—ê²Œ ì„œë¹„ìŠ¤]
```

**í•µì‹¬ í¬ì¸íŠ¸:**
1. âœ… PR ê¸°ë°˜ ì›Œí¬í”Œë¡œìš° (ì§ì ‘ main í‘¸ì‹œ ì§€ì–‘)
2. âœ… main ë¨¸ì§€ ì‹œ GitHub Actionsë¡œ ìë™ ë¹Œë“œ/ë°°í¬
3. âœ… ê²°ê³¼ëŠ” GitHub Pages (`https://org-tinysolver.github.io/ground-truth/`)ë¡œ ë…¸ì¶œ
4. âœ… ë°°í¬ ì„±ê³µ ì‹œ Slack ì•Œë¦¼ìœ¼ë¡œ ë¹ ë¥¸ í™•ì¸

