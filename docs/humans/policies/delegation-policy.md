# Delegation Policy

> **Source of Truth**: AI PM의 작업 위임 정책 - 직접 수행 vs 팀 위임 기준

## 정책 목적

AI PM이 **언제 직접 작업하고, 언제 팀에 위임할지** 명확한 기준을 제공합니다.

---

## 왜 위임하는가?

### 핵심 가치

- **역할 집중**: PM은 기획/조율, 팀은 실행에 집중
- **전문성 활용**: 각 팀의 전문 역량 최대화
- **확장성**: 작업량 증가 시 팀 확장으로 대응
- **품질 향상**: 전문가가 담당하면 결과물 품질 상승

### 역할 정의

```
PM: "무엇을, 왜" 담당
팀: "어떻게" 담당
인간: "Go/No-Go" 결정
```

---

## 직접 수행 vs 위임 기준

### 결정 플로우

```
작업 요청
    │
    ├─ 5분 이내 완료 가능? ─── Yes ──→ PM 직접 수행
    │
    └─ No
        │
        ├─ 코드 변경 필요? ─── Yes ──→ devteam 위임
        │
        ├─ 조사/문서 작업? ─── Yes ──→ research 위임
        │
        └─ 기타 ─────────────────────→ PM 직접 수행
```

### 상세 기준

| 작업 유형 | 담당 | 예시 |
|----------|------|------|
| 현황 파악 | PM 직접 | 프로젝트 상태 확인, 진행 현황 정리 |
| 계획 수립 | PM 직접 | Task 분해, 우선순위 결정 |
| 문서 읽기 | PM 직접 | 정책 확인, 규칙 참조 |
| 간단한 문서 수정 | PM 직접 | 오타 수정, 날짜 업데이트 |
| 코드 구현 | devteam | 기능 개발, 버그 수정 |
| 배포 | devteam | 스테이징/프로덕션 배포 |
| 기술 조사 | research | 기술 비교, 라이브러리 분석 |
| 상세 문서 작성 | research | 가이드 작성, 분석 보고서 |

---

## 위임 원칙

### 1. 30분 Rule

> **모든 위임 작업은 30분 이내 완료 가능해야 함**

- 30분 초과 시 → 더 작은 작업으로 분할
- 예상 시간 명시 필수
- 초과 시 중간 보고 요청

### 2. Self-Contained Issue

> **Issue만 보고 바로 작업 가능해야 함**

포함 필수:
- 단 하나의 명확한 작업
- 수정할 파일 경로
- 구체적인 변경 내용
- 확인 가능한 완료 조건

금지:
- "XX 문서를 참고하세요"
- "기존 스타일을 따라주세요"
- "적절히 판단해서 구현"

### 3. 명확한 완료 조건

> **완료 여부를 검증할 수 있어야 함**

Good:
- "버튼 클릭 시 모달이 열린다"
- "빌드 성공"
- "테스트 통과"

Bad:
- "UI가 개선된다"
- "더 나은 성능"
- "적절히 동작"

---

## 팀별 위임 범위

### devteam (ai-devteam)

```yaml
담당 영역:
  - 코드 작성 및 수정
  - 테스트 작성
  - PR 생성 및 관리
  - 배포 실행 (HITL 필요)
  - 기술적 버그 수정

위임하지 않는 것:
  - 기획/설계 결정
  - 우선순위 판단
  - 요구사항 범위 변경
```

### research (ai-research)

```yaml
담당 영역:
  - 기술 조사 및 비교
  - 문서 작성 (가이드, 보고서)
  - 코드베이스 분석
  - 학습 자료 정리

위임하지 않는 것:
  - 의사결정
  - 코드 구현
  - 배포
```

---

## 위임 프로세스

### 1. 작업 분석

```
요청 → 작업 분해 → 팀 할당 → Issue 작성
```

### 2. Task Group 작성

```yaml
task_group:
  tasks:
    - id: task-1
      team: devteam
      dependency: null

    - id: task-2
      team: research
      dependency: null

    - id: task-3
      team: devteam
      dependency: [task-1, task-2]
```

### 3. 결과 추적

```
Issue 생성 → 작업 진행 → 결과 수신 → 검증 → 완료
```

---

## 위임 실패 대응

### 블로커 발생 시

1. 팀이 PM에게 블로커 보고
2. PM이 문제 분석
3. 필요시 인간에게 에스컬레이션
4. 해결책 결정 후 재시도

### 품질 미달 시

1. 구체적인 수정 요청
2. 예시 코드/문서 제공
3. 재작업 요청

### 시간 초과 시

1. 중간 결과 확인
2. 나머지 작업 재분할
3. 필요시 우선순위 조정

---

## 관련 문서

- human-docs/decisions/ADR-002-delegation-model.md (결정 배경)
- human-docs/principles/agent-roles.md (역할 정의)
- agent-docs/rules/pm-scope.md (실행 규칙)
- agent-docs/rules/team-interactions.md (팀 간 호출)

---

## 요약

| 원칙 | 설명 |
|------|------|
| **역할 분리** | PM은 기획, 팀은 실행 |
| **30분 Rule** | 작은 단위로 분할 |
| **Self-Contained** | Issue에 모든 정보 포함 |
| **명확한 기준** | 검증 가능한 완료 조건 |
