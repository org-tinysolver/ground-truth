# Document Separation Standard

> **Source of Truth**: human-docs vs agent-docs 문서 분리 기준 - 모든 Repo 공통 규칙

## 핵심 원칙

> **human-docs = WHY (왜?)** / **agent-docs = HOW (어떻게?)**

```
human-docs/  → 인간 전용: 의사결정의 근거, 가치관, 정책
agent-docs/  → AI 참조: 실행 규칙, 체크리스트, 템플릿
```

---

## 왜 분리하는가?

### 문제: 모든 문서를 AI에게 로드

```
❌ 컨텍스트 과부하: AI가 매번 불필요한 문서까지 읽음
❌ 역할 혼란: 무엇이 "결정"이고 무엇이 "실행 지침"인지 불명확
❌ 유지보수 어려움: 정책 변경 시 어떤 문서를 수정해야 하는지 불명확
```

### 해결: 목적별 분리

```
✅ 컨텍스트 효율: AI는 agent-docs만 로드
✅ 역할 명확: 인간이 결정 → AI가 실행
✅ 유지보수 용이: WHY 변경 없이 HOW만 수정 가능
```

### 기대 효과

- **효율성**: AI 컨텍스트 창 절약
- **일관성**: 동일한 정책이 다르게 해석되는 것 방지
- **추적성**: 왜 이런 규칙이 있는지 근거 확인 가능
- **피드백 루프**: 실행 결과로 WHY 검증 및 개선

---

## 분류 기준

### 질문 기반 판단

| 질문 | 답변 | 분류 |
|------|------|------|
| "왜 이렇게 하는가?" | 배경, 이유, 가치 | human-docs |
| "어떤 가치를 추구하는가?" | 철학, 원칙 | human-docs |
| "언제 이것을 결정했는가?" | 의사결정 기록 | human-docs |
| "어떻게 실행하는가?" | 단계별 절차 | agent-docs |
| "무엇을 체크하는가?" | 체크리스트 | agent-docs |
| "어떤 형식을 따르는가?" | 템플릿, 스키마 | agent-docs |

### 예시

| 문서 | 분류 | 이유 |
|------|------|------|
| "왜 HITL 정책이 필요한가" | human-docs/policies | 정책의 근거 설명 |
| "HITL 체크리스트" | agent-docs/rules | AI가 참조할 실행 규칙 |
| "30분 Rule 도입 배경" | human-docs/decisions | 의사결정 기록 |
| "Issue 크기 측정 방법" | agent-docs/rules | AI가 따를 규칙 |

---

## 폴더 구조

### human-docs/ (인간 전용)

```
human-docs/
├── standards/      # 조직 전체 표준 (이 문서 포함)
├── decisions/      # ADR (Architecture Decision Records)
├── principles/     # 핵심 원칙과 가치관
├── policies/       # 정책과 규정의 WHY
├── guides/         # 상세 가이드, 튜토리얼
└── retrospectives/ # 회고 문서
```

### agent-docs/ (AI 참조)

```
agent-docs/
├── rules/          # 실행 규칙, 체크리스트
├── schemas/        # 데이터 구조 정의
├── templates/      # 문서 템플릿
└── examples/       # 참고 예시
```

---

## 문서 간 관계

```
┌─────────────────────────────────────────┐
│            human-docs/                   │
│         (Source of Truth)                │
│                                          │
│   decisions/ → "왜 30분 Rule인가?"       │
│   policies/  → "왜 HITL이 필요한가?"     │
│                                          │
└─────────────────────────────────────────┘
                    │
                    │ 기반으로 작성
                    ▼
┌─────────────────────────────────────────┐
│            agent-docs/                   │
│         (AI 작업 지침)                   │
│                                          │
│   rules/issue-sizing.md                  │
│   → "30분 이내로 분할하라"               │
│                                          │
│   rules/hitl-checklist.md                │
│   → "배포 전 승인 받아라"                │
│                                          │
└─────────────────────────────────────────┘
                    │
                    │ 참조하여
                    ▼
┌─────────────────────────────────────────┐
│              AI Agent                    │
│                                          │
│   실제 작업 수행                         │
│                                          │
└─────────────────────────────────────────┘
```

---

## 작성 가이드

### human-docs 문서 형식

```markdown
# [제목]

> **Source of Truth**: [한 줄 요약]

## 배경
왜 이 문서/결정이 필요한가?

## 핵심 내용
무엇을 결정/정의하는가?

## 관련 문서
- agent-docs/의 대응 문서 (있으면)
```

### agent-docs 문서 형식

```markdown
# [제목]

> **적용 시점**: [언제 이 규칙을 적용하는가]

## 규칙
1. [명확한 실행 지침]
2. [체크리스트]

## 예시
[구체적인 예시]

## 근거
- human-docs/의 원본 문서: [링크]
```

---

## 변경 관리

### human-docs 변경 시

1. 변경 사유 명시
2. 영향받는 agent-docs 파악
3. agent-docs 동기화

### agent-docs 변경 시

1. human-docs 정책과 일치하는지 확인
2. 정책 위반이면 human-docs 먼저 수정
3. 변경 사유 커밋 메시지에 기록

---

## 예외 상황

### CLAUDE.md

- 위치: 프로젝트 루트
- 역할: AI 세션 시작 시 로드되는 핵심 컨텍스트
- 특징: human-docs를 직접 로드하지 않고, 참조 경로만 제공

### README.md

- 각 폴더의 인덱스 역할
- 문서 목록과 간단한 설명 포함

---

## 요약

| 구분 | human-docs | agent-docs |
|------|------------|------------|
| 대상 | 인간 | AI Agent |
| 내용 | WHY (왜?) | HOW (어떻게?) |
| 로드 | 필요시 수동 | 세션마다 자동 |
| 예시 | 정책 배경, ADR | 규칙, 체크리스트 |
